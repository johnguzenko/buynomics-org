<form [formGroup]="form">
  <div class="tui-row tui-row_sme">
    <div class="tui-col_8">
      <h3 class="tui-form__header tui-form__header_margin-top_none">
        Add an intermediary
      </h3>
      <div class="tui-form__row">
        <tui-input
          tuiTextfieldExampleText="Field placeholder"
          formControlName="name"
        >
          Name
          <span class="tui-required"></span>
        </tui-input>
        <tui-error [error]="computedError"></tui-error>
      </div>

      <div class="tui-form__row">
        <tui-input-number formControlName="order"> Order </tui-input-number>
      </div>

      <div class="tui-form__row">
        <tui-select tuiTextfieldSize="s" formControlName="type">
          Type
          <input tuiTextfield />
          <tui-data-list-wrapper
            *tuiDataList
            [items]="types"
          ></tui-data-list-wrapper>
        </tui-select>
      </div>

      <form [formGroup]="rangeForm">
        <div class="tui-form__row">
          <tui-input-number
            decimal="not-zero"
            formControlName="from"
            [precision]="6"
          >
            From
          </tui-input-number>
        </div>
        <div class="tui-form__row">
          <tui-input-number
            decimal="not-zero"
            formControlName="to"
            [precision]="6"
          >
            To
          </tui-input-number>
        </div>
        <div class="tui-form__row">
          <tui-input-number
            decimal="not-zero"
            formControlName="step"
            [precision]="6"
          >
            Step
          </tui-input-number>
        </div>
      </form>

      <div formArrayName="dropdownForm">
        <button tuiButton type="button" (click)="addDropdownOption()">
          Add
        </button>
        <div *ngFor="let option of dropdownForm.controls; let i = index">
          <div [formGroupName]="i">
            <div class="tui-form__row">
              <tui-input formControlName="option"> Option </tui-input>
            </div>

            <div class="tui-form__row">
              <tui-input-number
                decimal="not-zero"
                formControlName="value"
                [precision]="6"
              >
                Value
              </tui-input-number>
            </div>

            <button tuiButton type="button" (click)="onDeleteDropdownOption(i)">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
